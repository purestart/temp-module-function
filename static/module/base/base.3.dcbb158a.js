webpackJsonpbase([3],{208:function(t,e){t.exports=function(t,e,i,r,o,a){var s,n=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,n=t.default);var c="function"==typeof n?n.options:n;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId=o);var d;if(a?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=d):r&&(d=r),d){var u=c.functional,p=u?c.render:c.beforeCreate;u?(c._injectStyles=d,c.render=function(t,e){return d.call(e),p(t,e)}):c.beforeCreate=p?[].concat(p,d):[d]}return{esModule:s,exports:n,options:c}}},236:function(t,e,i){"use strict";var r=i(18),o=i.n(r),a=i(46);e.a={name:"dictDetail",data:function(){var t=function(t,e,i){/^[a-zA-Z0-9]*$/.test(e)?e.length>20?i(new Error("请输入20个以内字符")):i():i(new Error("只能输入字母或数字"))},e=function(t,e,i){e&&""!=e&&e.length>200?i(new Error("请输入200个以内字符")):i()},i=function(t,e,i){e&&""!=e&&e.length>20?i(new Error("请输入20个以内字符")):i()},r=function(t,e,i){e&&""!=e&&e.length>20?i(new Error("请输入20个以内数字")):i()},o=function(t,e,i){var r=/^[0-9]*$/;e&&""!=e&&!r.test(e)?i(new Error("只能输入数字")):i()};return{isEdit:!1,dictTitle:"字典修改",form:{},list:[],isJustSee:!1,dialogFormVisible:!1,dialogStatus:"create",textMap:{update:"编辑字典项",create:"创建字典项"},modifyIndex:null,detailStatus:"",tableData:[],propertyCodeSet:null,itemform:{id:null,dictCode:"",propertyCode:"",propertyName:"",description:"",seq:"",status:"1"},rules:{propertyCode:[{required:!0,message:"请输入属性编码",trigger:"blur"},{validator:t,trigger:"blur"}],propertyName:[{required:!0,message:"请输入属性名称",trigger:"blur"},{validator:function(t,e,i){/^[\u4e00-\u9fa50-9a-zA-Z\s\~\`\·\！\!\@\#\￥\%\^\……\&\*\（\）\——\-\+\=\【\】\{\}\|\、\\\：\；\:\;\“\”\‘\’\'\"\[\]\{\}\<\,\>\.\《\》\，\。\？\、\?\/\(\)\_]+$/.test(e)?i():i(new Error("名称不能包含特殊字符"))},trigger:"blur"},{validator:i,trigger:"blur"}],seq:[{required:!0,message:"请输入排序",trigger:"blur"},{validator:o,trigger:"blur"},{validator:r,trigger:"blur"}],description:[{validator:e,trigger:"blur"}],status:[{required:!0,message:"请选择状态名称",trigger:"blur"}]},dictForm:{dictCode:"",dictName:"",description:""}}},created:function(){this.isEdit=1==this.$route.query.isEdit||"true"==this.$route.query.isEdit,this.isJustSee=1==this.$route.query.isJustSee||"true"==this.$route.query.isJustSee,this.isEdit?(this.dictTitle="修改字典",this.dictForm.dictCode=this.$route.query.dictCode,this.dictForm.dictName=this.$route.query.dictName,this.dictForm.description=this.$route.query.description,this.dialogStatus="update",this.getList(),this.isJustSee&&(this.dictTitle="查看字典")):this.dictTitle="新建字典"},methods:{getList:function(){var t=this;this.listLoading=!0;var e={};e.dictCode=this.$route.query.dictCode,Object(a.V)(e).then(function(e){t.list=e.data,t.total=e.totalCount,t.listLoading=!1,t.propertyCodeSet=e.data.map(function(t){return t.propertyCode})})},plusItems:function(){this.dialogStatus="create",console.log(this.dialogStatus),this.$refs.itemform&&this.$refs.itemform.clearValidate(),this.resetItemform(),this.dialogFormVisible=!0},resetItemform:function(){this.itemform={dictCode:"",propertyCode:"",propertyName:"",description:"",seq:"",status:"1"}},removePlanData:function(t){this.dictitemsForm.tableData.splice(t,1)},enableBtn:function(t){var e=this,i=t;i.status=1,Object(a._14)(i).then(function(t){t&&200==t.code?(e.getList(),e.success("启用成功")):e.error("启用失败")}).catch(function(){e.error(ret.msg)})},disableBtn:function(t){var e=this,i=JSON.parse(o()(t));i.description=i.description?i.description:"",delete i.updateTime,delete i.operator,this.$confirm("确认禁用后将不可用，是否继续禁用?","提示",{confirmButtonText:"确定",cancelButtonText:"再想想",type:"warning"}).then(function(){i.status=-1,Object(a._14)(i).then(function(t){t&&200==t.code?(e.getList(),e.success("禁用成功")):e.error("禁用失败")}).catch(function(){e.error(ret.msg)})})},modifyInlineData:function(t,e){this.$refs.itemform&&this.$refs.itemform.clearValidate(),this.dialogFormVisible=!0,this.itemform=t,this.itemform.isModify=!0,this.modifyIndex=e,this.itemform.status=t.status.toString(),this.dialogStatus="update"},closeDialog:function(t,e){var i=this,r=this.$refs,o=this;r[t].validate(function(t){if(t){for(var e=o.list.map(function(t){return t.propertyCode}),r=0,a=0;a<e.length;a++)e[a]==o.itemform.propertyCode&&r++;if(r>0&&!o.itemform.isModify)return void i.error("属性编码重复。");for(var s=o.list.map(function(t){return t.propertyName}),n=0,l=0;l<s.length;l++)s[l]==o.itemform.propertyName&&n++;if(n>0&&!o.itemform.isModify)return void i.error("属性名称重复。");o.itemform;o.itemform.id||"update"==o.dialogStatus||o.list.push(o.itemform),"update"==o.dialogStatus&&(o.list[o.modifyIndex]=o.itemform),o.dialogFormVisible=!1,o.itemform={},console.log(i.dialogStatus)}})},updateItem:function(t,e){},cancel:function(){this.dialogFormVisible=!1},quxiao:function(){this.$store.commit("tagNav/removeTagNav",this.$route),this.$router.push("index")},saveDict:function(t,e){var i=this,r=this.$refs;this.$route.query.isEdit;r[t].validate(function(t){if(!t)return!1;i.dialogFormVisible=!1,1==i.$route.query.isEdit||"true"==i.$route.query.isEdit?(i.dictForm.opType="2",i.dictForm.id=i.$route.query.id):i.dictForm.opType="1",i.dictForm.properties=i.list;var e=i.dictForm;e.code=i.dictForm.dictCode,e.name=i.dictForm.dictName,Object(a._8)(i.dictForm).then(function(t){t.result?(i.$store.commit("tagNav/removeTagNav",i.$route),i.$router.push("index"),i.success("修改成功")):i.error(t.msg)})})}},filters:{statusFormat:function(t){switch(t){case"1":return"启用";case"-1":return"禁用";case 1:return"启用";case-1:return"禁用"}}}}},333:function(t,e,i){var r=i(334);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);i(167)("c9147f38",r,!0,{})},334:function(t,e,i){e=t.exports=i(166)(!0),e.push([t.i,"\n.page-wrapper[data-v-4123cd7a] {\r\n  padding: 0 14px 0 14px;\n}\n.dict-text[data-v-4123cd7a] {\r\n  color: #c0c4cc;\r\n  font-size: 13.33px;\n}\n.list-wrapper[data-v-4123cd7a] {\r\n  /* width: calc(100% - 42px); */\r\n  /* padding:20px; */\r\n  margin-top: 10px;\r\n  margin-bottom: 8px;\r\n  /* border: 1px solid #ccc; */\n}\n.search-box[data-v-4123cd7a] {\r\n  padding: 24px;\r\n  padding-bottom: 6px;\r\n  background: #f5f5f5;\n}\n.bread-crumb[data-v-4123cd7a] {\r\n  margin-top: 8px;\r\n  margin-bottom: 8px;\n}\n.search-box[data-v-4123cd7a] {\r\n  padding: 24px;\r\n  padding-bottom: 6px;\r\n  background: #f5f5f5;\n}\n.bread-crumb[data-v-4123cd7a] {\r\n  margin-top: 8px;\r\n  margin-bottom: 8px;\n}\r\n","",{version:3,sources:["G:/Workspaces/open/vue-module/base/src/views/sysMange/dict/detail.vue"],names:[],mappings:";AACA;EACE,uBAAuB;CACxB;AACD;EACE,eAAe;EACf,mBAAmB;CACpB;AACD;EACE,+BAA+B;EAC/B,mBAAmB;EACnB,iBAAiB;EACjB,mBAAmB;EACnB,6BAA6B;CAC9B;AACD;EACE,cAAc;EACd,oBAAoB;EACpB,oBAAoB;CACrB;AACD;EACE,gBAAgB;EAChB,mBAAmB;CACpB;AACD;EACE,cAAc;EACd,oBAAoB;EACpB,oBAAoB;CACrB;AACD;EACE,gBAAgB;EAChB,mBAAmB;CACpB",file:"detail.vue",sourcesContent:["\n.page-wrapper[data-v-4123cd7a] {\r\n  padding: 0 14px 0 14px;\n}\n.dict-text[data-v-4123cd7a] {\r\n  color: #c0c4cc;\r\n  font-size: 13.33px;\n}\n.list-wrapper[data-v-4123cd7a] {\r\n  /* width: calc(100% - 42px); */\r\n  /* padding:20px; */\r\n  margin-top: 10px;\r\n  margin-bottom: 8px;\r\n  /* border: 1px solid #ccc; */\n}\n.search-box[data-v-4123cd7a] {\r\n  padding: 24px;\r\n  padding-bottom: 6px;\r\n  background: #f5f5f5;\n}\n.bread-crumb[data-v-4123cd7a] {\r\n  margin-top: 8px;\r\n  margin-bottom: 8px;\n}\n.search-box[data-v-4123cd7a] {\r\n  padding: 24px;\r\n  padding-bottom: 6px;\r\n  background: #f5f5f5;\n}\n.bread-crumb[data-v-4123cd7a] {\r\n  margin-top: 8px;\r\n  margin-bottom: 8px;\n}\r\n"],sourceRoot:""}])},335:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-wrapper"},[i("div",{staticClass:"list-wrapper"},[i("el-form",{ref:"dictForm",staticClass:"search-box",attrs:{inline:!0,model:t.dictForm,rules:t.rules,"label-position":"right","label-width":"84px"}},[i("el-form-item",{attrs:{label:"类型编码：",prop:"dictCode"}},[t.isJustSee||t.isEdit?i("span",{staticClass:"dict-text"},[t._v(t._s(t.dictForm.dictCode))]):i("el-input",{attrs:{placeholder:"数据值:",disabled:t.isJustSee||t.isEdit},model:{value:t.dictForm.dictCode,callback:function(e){t.$set(t.dictForm,"dictCode","string"==typeof e?e.trim():e)},expression:"dictForm.dictCode"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"类型名称：",prop:"dictName"}},[t.isJustSee||t.isEdit?i("span",{staticClass:"dict-text"},[t._v(t._s(t.dictForm.dictName))]):i("el-input",{attrs:{placeholder:"名称:",disabled:t.isJustSee||t.isEdit},model:{value:t.dictForm.dictName,callback:function(e){t.$set(t.dictForm,"dictName","string"==typeof e?e.trim():e)},expression:"dictForm.dictName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"描述：",prop:"description"}},[t.isJustSee||t.isEdit?i("span",{staticClass:"dict-text"},[t._v(t._s(t.dictForm.description))]):i("el-input",{staticStyle:{height:"32px",width:"180px"},attrs:{type:"textarea",rows:"1",resize:"none",placeholder:"描述:",disabled:t.isJustSee||t.isEdit},model:{value:t.dictForm.description,callback:function(e){t.$set(t.dictForm,"description","string"==typeof e?e.trim():e)},expression:"dictForm.description"}})],1)],1),t._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",{staticStyle:{float:"left"}}),t._v(" "),t.isJustSee?t._e():i("div",{staticStyle:{float:"right","margin-top":"8px"}},[i("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",size:"mini"},on:{click:t.plusItems}},[t._v("增加")])],1)]),t._v(" "),i("div",{staticClass:"customer-list"},[i("el-table",{key:"planTable",ref:"planTable",staticClass:"plan-table",staticStyle:{width:"100%"},attrs:{size:"mini",data:t.list,stripe:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"属性编码",prop:"propertyCode",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.propertyCode))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"属性名称",prop:"telephone",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.propertyName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"描述",prop:"job",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.description))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"排序",prop:"seq",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.seq))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"状态",prop:"email",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(t._f("statusFormat")(e.row.status)))])]}}])}),t._v(" "),t.isJustSee?t._e():i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{directives:[{name:"auth",rawName:"v-auth",value:"system_dictionary_update",expression:"'system_dictionary_update'"}],staticClass:"table-btn-mini",on:{click:function(i){return t.modifyInlineData(e.row,e.$index)}}},[t._v("修改")]),t._v(" "),-1==e.row.status?i("span",{directives:[{name:"auth",rawName:"v-auth",value:"system_dictionary_enableDisabling",expression:"'system_dictionary_enableDisabling'"}],staticClass:"table-btn-mini",on:{click:function(i){return t.enableBtn(e.row)}}},[t._v("启用")]):t._e(),t._v(" "),1==e.row.status?i("span",{directives:[{name:"auth",rawName:"v-auth",value:"system_dictionary_enableDisabling",expression:"'system_dictionary_enableDisabling'"}],staticClass:"table-btn-mini",on:{click:function(i){return t.disableBtn(e.row)}}},[t._v("禁用")]):t._e()]}}],null,!1,3480851910)})],1),t._v(" "),t.isJustSee?i("div",{staticClass:"btn",staticStyle:{margin:"20px auto","text-align":"center"}},[i("el-button",{on:{click:t.quxiao}},[t._v("返回")])],1):i("div",{staticClass:"btn",staticStyle:{margin:"20px auto","text-align":"center"}},["create"==t.dialogStatus?i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveDict("dictForm",1)}}},[t._v("保存")]):i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveDict("dictForm",2)}}},[t._v("修改")]),t._v(" "),i("el-button",{on:{click:t.quxiao}},[t._v("取消")])],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"itemform",attrs:{inline:!1,model:t.itemform,rules:t.rules,"label-position":"right","label-width":"110px"}},[i("el-form-item",{attrs:{label:"属性编码",prop:"propertyCode"}},[i("el-input",{attrs:{placeholder:"",disabled:"update"==this.dialogStatus},model:{value:t.itemform.propertyCode,callback:function(e){t.$set(t.itemform,"propertyCode","string"==typeof e?e.trim():e)},expression:"itemform.propertyCode"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"属性名称",prop:"propertyName"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.itemform.propertyName,callback:function(e){t.$set(t.itemform,"propertyName","string"==typeof e?e.trim():e)},expression:"itemform.propertyName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"描述",prop:"description"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.itemform.description,callback:function(e){t.$set(t.itemform,"description","string"==typeof e?e.trim():e)},expression:"itemform.description"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"排序",prop:"seq"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.itemform.seq,callback:function(e){t.$set(t.itemform,"seq","string"==typeof e?e.trim():e)},expression:"itemform.seq"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"启用状态",prop:"status"}},[i("el-select",{attrs:{filterable:"",placeholder:"请选择",clearable:""},model:{value:t.itemform.status,callback:function(e){t.$set(t.itemform,"status",e)},expression:"itemform.status"}},[i("el-option",{attrs:{label:"启用",value:"1"}}),t._v(" "),i("el-option",{attrs:{label:"禁用",value:"-1"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.closeDialog("itemform")}}},[t._v("确 定")]),t._v(" "),i("el-button",{on:{click:function(e){return t.cancel("itemform")}}},[t._v("取 消")])],1)],1)],1)},o=[],a={render:r,staticRenderFns:o};e.a=a},56:function(t,e,i){"use strict";function r(t){i(333)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(236),a=i(335),s=i(208),n=r,l=s(o.a,a.a,!1,n,"data-v-4123cd7a",null);e.default=l.exports}});